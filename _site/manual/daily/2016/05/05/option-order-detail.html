<!DOCTYPE html>
<html lang="utf-8">
<head>
    <!--meta-->
    <title>option order 设置排序列(去掉第一列的排序和小图标) 《不定时一讲》 DataTable中文网</title>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="dcl4KCseZ0" />
    <meta name="google-site-verification" content="aLPryaYhH4oXkloIrOOwl8F9nIJy8x3Eq_k86lMxuXc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Datatables是一款jQuery表格插件，目前，Datatables最新版本为1.10.11
    Datatables中文网致力于为广大国内开发者提供详尽的中文文档、代码实例等，助力开发者使用这个jQuery表格插件">
    <link href="http://cdn.bootcss.com/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://cdn.bootcss.com/twitter-bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/css/highlighting.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
</head>
<body>
<div class="container">
    <p>参数详解连接
<a href="http://datatables.net/reference/option/order" target="_blank">
    <code class="option">order<span>Option</span></code>
</a>
<a href="http://datatables.club/manual/daily/2016/05/05/option-order.html" target="_blank">
    <code class="option">order<span>不定时一讲</span></code>
</a></p>

<p>第一列的排序去不掉，这个问题在群里出现的频率很高，这里讲下为什么去不掉</p>

<ul>
  <li>禁用排序</li>
</ul>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#example'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">(</span> <span class="p">{</span>
  <span class="s2">"ordering"</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span> <span class="p">);</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>当然这个处理方式不得行，所有列都不能排序了，我要的是第一列不排序</p>

<ul>
  <li>设置第一列不排序</li>
</ul>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#example'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">(</span> <span class="p">{</span>
  <span class="s2">"columnDefs"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">"orderable"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">"targets"</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span> <span class="p">);</span>

<span class="nx">$</span><span class="p">(</span><span class="s1">'#example'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">(</span> <span class="p">{</span>
  <span class="s2">"columns"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="s2">"orderable"</span><span class="p">:</span> <span class="kc">false</span> <span class="p">},</span>
    <span class="kc">null</span><span class="p">,</span>
    <span class="kc">null</span><span class="p">,</span>
    <span class="kc">null</span><span class="p">,</span>
    <span class="kc">null</span>
  <span class="p">]</span>
<span class="p">}</span> <span class="p">);</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>这下会可以了吧？</p>

<p>……</p>

<p>为什么有个小三角还在那里？WK…… 怎么去掉？</p>

<p>不卖关子了，这里出现这个的 <em>原因</em> 在于 
<a href="http://datatables.net/reference/option/order" target="_blank">
    <code class="option">order<span>Option</span></code>
</a>
<a href="http://datatables.club/manual/daily/2016/05/05/option-order.html" target="_blank">
    <code class="option">order<span>不定时一讲</span></code>
</a>
的默认值是
<code class="highlighter-rouge">[[0, 'asc']]</code>，给第一列设置了升序排列，感觉像一个小小的bug，不知道新版的有没有解决</p>

<p>正因为这个默认值导致了这一系列的 <em>问题</em> ，所以下面给出解决办法</p>

<ul>
  <li>取代默认的值</li>
</ul>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#example'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">(</span> <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span> <span class="p">);</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>不设置默认排序</p>

<ul>
  <li>把默认的排序列设置其他列</li>
</ul>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'#example'</span><span class="p">).</span><span class="nx">DataTable</span><span class="p">(</span> <span class="p">{</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">[[</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">'asc'</span> <span class="p">]]</span>
<span class="p">}</span> <span class="p">);</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>设置第二列为升序</p>

<p>到这里，问题应该是解决了，不说了，洗洗睡了……</p>


    <h3>如果大家也有小的技巧，欢迎给我发邮件 <code>thxopen@datatables.club</code></h3>
</div>
</body>
</html>
