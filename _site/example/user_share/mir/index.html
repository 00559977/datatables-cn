<!DOCTYPE html>
<html>
<head>
       <meta http-equiv=Content-Type content="text/html; charset=utf-8">
       <title>自行封装请求和返回数据的零耦合服务端分页 网友共享 示例 Datatables中文网</title>
       <!-- Le styles -->
<link href="/assets/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">
<link href="/assets/bootstrap/2.3.2/css/bootstrap-responsive.min.css" rel="stylesheet">
       <!--代码高亮-->
<link href="/assets/syntaxhighlighter/3.0.83/styles/shCore.css" rel="stylesheet" type="text/css"/>
<link href="/assets/syntaxhighlighter/3.0.83/styles/shThemeDefault.css" rel="stylesheet" type="text/css"/>

       <link href="/css/docs.css" rel="stylesheet">
       <link rel="shortcut icon" href="/images/favicon.png">
</head>
<body>
<style>
    .hot {
        background-image: url(/images/hot.gif);
        height: 12px;
        width: 21px;
        position: absolute;
    }
</style>
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="brand" href="#" id="copyurltoclip" data-toggle="tooltip" data-placement="bottom" data-clipboard-text="" title="点我复制本页url到剪贴板">Datatables中文网</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li ><a href="/">首页</a></li>
                    <li ><a href="/blog">博客<span class="hot"></span></a></li>
                    <li class="active"><a href="/example">例子</a></li>
                    <li ><a href="/manual">手册</a></li>
                    <li ><a href="/reference">文档(Options&API)</a></li>
                    <li ><a href="/extensions">扩展</a></li>
                    <li ><a href="/plug-ins">插件</a></li>
                    <li ><a href="/faqs">FAQs</a></li>
                    <li ><a href="/upgrade/">更新<span id="updateFlag"></span></a></li>
                    <!--<li ><a href="/activity/">活动</a></li>-->
                    <li ><a href="/about/">关于</a></li>
                    <li ><a href="/tour/">导航</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<header class="jumbotron subhead" id="overview">
       <div class="container">


              <p>
                  后台数据使用java，可用Eclipse打开项目文件查看源码。或者将WebRoot下的文件解压到tomcat下直接运行。
                  简要说明：
                  <ul>
            <li> 使用DataTable默认的ajax交互功能，对传给后台和从后台获取的数据都有命名格式要求，这样一来耦合度较高，不利于后期扩展，不能直接适用于需要跟多种不同前端或其他业务交互的项目。本例子主要展示了自行封装请求参数和返回数据的用法，对后台的交互没有任何格式和命名限制。
            </li>
            <li> 基于Bootstrap 2.3.2,相关的其他插件包括图标控件FontAwesome、等待提示控件Spinjs(修改版)、弹窗控件lhgdialog(修改版)
            </li>
            <li> 主要展现:</li>
            <li>封装请求参数（查询、排序、分页,不再需要data和dataSrc）</li>
           <li>封装返回数据</li>
           <li>自定义查询参数</li>
           <li>服务器分页</li>
           <li>自行控制和自定义遮罩效果</li>
           <li>生成自定义效果的单元格（在线离线）</li>
           <li>生成复选框单元格</li>
           <li>响应复选框选择事件</li>
           <li>生成操作按钮单元格</li>
           <li>响应操作栏按钮点击事件</li>
           <li>响应行点击事件</li>
           <li>渲染回调事件（默认选中第一行）</li>
           <li>分页栏增加跳页功能（直接修改了dataTables.bootstrap.js和dataTables.bootstrap.css）</li>
       </ul>

              </p>

           下载地址： <a href="serverSide-custom-args.zip" target="_blank">自行封装请求和返回数据的零耦合服务端分页</a>

       </div>
</header>
<div class="container" style="margin-top:20px">
    <div style="margin: 10px auto;">
        <div style="margin:10px 0">
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- test -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2101546703939638"
     data-ad-slot="9922577908"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
    </div>
    <iframe style="margin: 10px 0 20px 0" height=1000px width=100% src="demo/index.htm" frameborder=0 allowfullscreen></iframe>
       代码片段(java部分)：
       <section>
              User.java
       <pre class="brush:java;toolbar:false">package com.thxopen.dt.bean;

/**
 * Created by Administrator on 2015/4/13.
 */
public class User {

    public String name;
    public String position;
    public String salary;
    public String start_date;
    public String office;
    public String extn;
    public Integer status;
    public Integer role;

    public User(String name, String position, String salary, String start_date, String office, String extn, Integer status, Integer role) {
        this.name = name;
        this.position = position;
        this.salary = salary;
        this.start_date = start_date;
        this.office = office;
        this.extn = extn;
        this.status = status;
        this.role = role;
    }

    public String getName() {

        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getPosition() {
        return position;
    }

    public void setPosition(String position) {
        this.position = position;
    }

    public String getSalary() {
        return salary;
    }

    public void setSalary(String salary) {
        this.salary = salary;
    }

    public String getStart_date() {
        return start_date;
    }

    public void setStart_date(String start_date) {
        this.start_date = start_date;
    }

    public String getOffice() {
        return office;
    }

    public void setOffice(String office) {
        this.office = office;
    }

    public String getExtn() {
        return extn;
    }

    public void setExtn(String extn) {
        this.extn = extn;
    }

	public Integer getStatus() {
		return status;
	}

	public void setStatus(Integer status) {
		this.status = status;
	}

	public Integer getRole() {
		return role;
	}

	public void setRole(Integer role) {
		this.role = role;
	}
}</pre>

              Config.java
       <pre class="brush:java;toolbar:false">package com.thxopen.dt.sys;

import javax.servlet.ServletContext;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

/**
 * Created by Administrator on 2015/4/16.
 */
public class Config {
    String deUrl= &quot;jdbc:sqlite:/&quot;;
    public String url = &quot;&quot;;
    public ServletContext application;

    public  Config(ServletContext application){
        this.application = application;
        try {
            Class.forName(&quot;org.sqlite.JDBC&quot;);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }

    public Connection getConn(){
        url = deUrl+application.getRealPath(&quot;&quot;).replace(&quot;\\&quot;, &quot;/&quot;) + &quot;/dt.sqlite3&quot;;
//        url = deUrl + &quot;d:\\workspaces\\workspaces\\Datatables-serverSide\\web\\&quot;.replace(&quot;\\&quot;, &quot;/&quot;) + &quot;/dt.sqlite3&quot;;
        try {
            return DriverManager.getConnection(url);
        } catch (SQLException e) {
            e.printStackTrace();
            return null;
        }
    }
}</pre>

       </section>

       页面部分：
       <section>
              datasource.jsp
              <pre class="brush:java;toolbar:false">&lt;%@ page import=&quot;java.sql.ResultSet&quot; %&gt;
&lt;%@ page import=&quot;java.sql.Statement&quot; %&gt;
&lt;%@ page import=&quot;java.sql.DriverManager&quot; %&gt;
&lt;%@ page import=&quot;java.sql.Connection&quot; %&gt;
&lt;%@ page import=&quot;com.thxopen.dt.bean.User&quot; %&gt;
&lt;%@ page import=&quot;com.google.gson.*&quot; %&gt;
&lt;%@ page import=&quot;java.util.*&quot; %&gt;
&lt;%@ page import=&quot;java.net.URLDecoder&quot; %&gt;
&lt;%@ page import=&quot;com.thxopen.dt.sys.Config&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%

    ResultSet rs = null;
    Statement stmt = null;
    Connection conn = new Config(application).getConn();
    String table = &quot;user&quot;;

    //数据起始位置
    String startIndex = request.getParameter(&quot;startIndex&quot;);
    //数据长度
    String pageSize = request.getParameter(&quot;pageSize&quot;);

    //总记录数
    String total = &quot;0&quot;;

    //定义列名
    String[] cols = {&quot;name&quot;, &quot;position&quot;, &quot;salary&quot;, &quot;start_date&quot;, &quot;office&quot;, &quot;extn&quot;, &quot;status&quot;, &quot;role&quot;};
    //获取客户端需要那一列排序
    String orderColumn = request.getParameter(&quot;orderColumn&quot;);
    if(orderColumn == null){
    	orderColumn = &quot;name&quot;;
    }

    //获取排序方式 默认为asc
    String orderDir = request.getParameter(&quot;orderDir&quot;);
    if(orderDir == null){
    	orderDir = &quot;asc&quot;;
    }

    //获取用户过滤框里的字符
    List&lt;String&gt; sArray = new ArrayList&lt;String&gt;();

    String fuzzy = request.getParameter(&quot;fuzzySearch&quot;);
    if(&quot;true&quot;.equals(fuzzy)){
    	String searchValue = request.getParameter(&quot;fuzzy&quot;);
    	if (searchValue!=null&amp;&amp;!searchValue.equals(&quot;&quot;)) {
            sArray.add(&quot; name like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
            sArray.add(&quot; position like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
            sArray.add(&quot; salary like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
            sArray.add(&quot; start_date like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
            sArray.add(&quot; office like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
            sArray.add(&quot; extn like &#39;%&quot; + searchValue + &quot;%&#39;&quot;);
        }
    }else{
    	String name = request.getParameter(&quot;name&quot;);
    	if (name!=null&amp;&amp;!name.equals(&quot;&quot;)) {
            sArray.add(&quot; name like &#39;%&quot; + name + &quot;%&#39;&quot;);
        }
    	String position = request.getParameter(&quot;position&quot;);
    	if (position!=null&amp;&amp;!position.equals(&quot;&quot;)) {
            sArray.add(&quot; position like &#39;%&quot; + position + &quot;%&#39;&quot;);
        }
    	String office = request.getParameter(&quot;office&quot;);
    	if (office!=null&amp;&amp;!office.equals(&quot;&quot;)) {
            sArray.add(&quot; office like &#39;%&quot; + office + &quot;%&#39;&quot;);
        }
    	String extn = request.getParameter(&quot;extn&quot;);
    	if (extn!=null&amp;&amp;!extn.equals(&quot;&quot;)) {
            sArray.add(&quot; extn like &#39;%&quot; + extn + &quot;%&#39;&quot;);
        }
    	String role = request.getParameter(&quot;role&quot;);
    	if (role!=null&amp;&amp;!role.equals(&quot;&quot;)) {
            sArray.add(&quot; role = &quot; + role + &quot;&quot;);
        }
    	String status = request.getParameter(&quot;status&quot;);
    	if (status!=null&amp;&amp;!status.equals(&quot;&quot;)) {
            sArray.add(&quot; status = &quot; + status + &quot;&quot;);
        }
    }

    String individualSearch = &quot;&quot;;
    if (sArray.size() == 1) {
        individualSearch = sArray.get(0);
    } else if (sArray.size() &gt; 1) {
        for (int i = 0; i &lt; sArray.size() - 1; i++) {
            individualSearch += sArray.get(i) + &quot; or &quot;;
        }
        individualSearch += sArray.get(sArray.size() - 1);
    }

    List&lt;User&gt; users = new ArrayList&lt;User&gt;();
    if (conn != null) {
        String recordsTotalSql = &quot;select count(1) as total from &quot; + table;
        stmt = conn.createStatement();

        String searchSQL = &quot;&quot;;
        String sql = &quot;SELECT * FROM &quot; + table;
        if (individualSearch != &quot;&quot;) {
            searchSQL = &quot; where &quot; + individualSearch;
        }
        sql += searchSQL;
        recordsTotalSql += searchSQL;
        sql += &quot; order by &quot; + orderColumn + &quot; &quot; + orderDir;
        recordsTotalSql += &quot; order by &quot; + orderColumn + &quot; &quot; + orderDir;
        sql += &quot; limit &quot; + startIndex + &quot;, &quot; + pageSize;


        rs = stmt.executeQuery(sql);
        while (rs.next()) {
            users.add(new User(rs.getString(&quot;name&quot;),
                    rs.getString(&quot;position&quot;),
                    rs.getString(&quot;salary&quot;),
                    rs.getString(&quot;start_date&quot;),
                    rs.getString(&quot;office&quot;),
                    rs.getString(&quot;extn&quot;),
                    rs.getInt(&quot;status&quot;),
                    rs.getInt(&quot;role&quot;)
                    ));
        }

        rs = stmt.executeQuery(recordsTotalSql);
        while (rs.next()) {
            total = rs.getString(&quot;total&quot;);
        }
    }


    Map&lt;Object, Object&gt; info = new HashMap&lt;Object, Object&gt;();
    info.put(&quot;pageData&quot;, users);
    info.put(&quot;total&quot;, total);
    String json = new Gson().toJson(info);
    rs.close();
    stmt.close();
    conn.close();
    out.write(json);
%&gt;</pre>

           index.htm
              <pre class="brush:html;toolbar:false">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Datatable-serverSide 自行封装请求参数和返回数据例子&lt;/title&gt;
&lt;!-- Bootstrap --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/lib/bootstrap-2.3.2/css/bootstrap.min.css&quot; media=&quot;screen&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/lib/bootstrap-2.3.2/css/bootstrap-responsive.min.css&quot; media=&quot;screen&quot;&gt;
&lt;!-- FontAwesome --&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/lib/font-awesome-4.2.0/css/font-awesome.min.css&quot;&gt;
&lt;!-- DataTables CSS start--&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/lib/dataTables-1.10.7/plugins/integration/bootstrap/2/dataTables.bootstrap.css&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/lib/dataTables-1.10.7/plugins/integration/font-awesome/dataTables.fontAwesome.css&quot;&gt;
&lt;!-- DataTables CSS end--&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;asset/css/user-manage.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div class=&quot;container-fluid&quot;&gt;
		&lt;div class=&quot;row-fluid&quot;&gt;
			&lt;div class=&quot;span12&quot; id=&quot;content&quot;&gt;
				&lt;div class=&quot;row-fluid&quot;&gt;
					&lt;div class=&quot;navbar&quot; id=&quot;breadcrumb&quot;&gt;
						&lt;div class=&quot;navbar-inner&quot;&gt;
							&lt;ul class=&quot;breadcrumb&quot;&gt;
								&lt;li&gt;
									&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;
									&lt;span class=&quot;divider&quot;&gt;/&lt;/span&gt;
								&lt;/li&gt;
								&lt;li class=&quot;active&quot;&gt;用户管理&lt;/li&gt;
							&lt;/ul&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class=&quot;row-fluid&quot;&gt;
					&lt;div class=&quot;span12&quot;&gt;
						&lt;div class=&quot;btn-toolbar&quot;&gt;
							&lt;div class=&quot;pull-right&quot;&gt;
								&lt;div class=&quot;input-append&quot;&gt;
									&lt;input type=&quot;text&quot; placeholder=&quot;模糊查询&quot; id=&quot;fuzzy-search&quot;&gt;
									&lt;div class=&quot;btn-group&quot;&gt;
										&lt;button type=&quot;button&quot; class=&quot;btn&quot; id=&quot;btn-simple-search&quot;&gt;&lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt;&lt;/button&gt;
										&lt;button type=&quot;button&quot; class=&quot;btn&quot; title=&quot;高级查询&quot; id=&quot;toggle-advanced-search&quot;&gt;
											&lt;i class=&quot;fa fa-angle-double-down&quot;&gt;&lt;/i&gt;
										&lt;/button&gt;
									&lt;/div&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;btn-add&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt; 添加&lt;/button&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-danger&quot; id=&quot;btn-del&quot;&gt;&lt;i class=&quot;fa fa-remove&quot;&gt;&lt;/i&gt; 批量删除&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class=&quot;row-fluid&quot; style=&quot;display:none;&quot; id=&quot;div-advanced-search&quot;&gt;
					&lt;form class=&quot;form-inline well&quot;&gt;
						&lt;span&gt;姓名:&lt;/span&gt;
						&lt;input type=&quot;text&quot; class=&quot;input-medium&quot; placeholder=&quot;姓名&quot; id=&quot;name-search&quot;&gt;
						&lt;span&gt;职位:&lt;/span&gt;
						&lt;input type=&quot;text&quot; class=&quot;input-medium&quot; placeholder=&quot;职位&quot; id=&quot;position-search&quot;&gt;
						&lt;span&gt;工作地点:&lt;/span&gt;
						&lt;input type=&quot;text&quot; class=&quot;input-medium&quot; placeholder=&quot;工作地点&quot; id=&quot;office-search&quot;&gt;
						&lt;span&gt;编号:&lt;/span&gt;
						&lt;input type=&quot;text&quot; class=&quot;input-medium&quot; placeholder=&quot;编号&quot; id=&quot;extn-search&quot;&gt;
						&lt;span&gt;在线状态:&lt;/span&gt;
						&lt;select class=&quot;input-small&quot; id=&quot;status-search&quot;&gt;
							&lt;option value=&quot;&quot;&gt;全部&lt;/option&gt;
							&lt;option value=&quot;1&quot;&gt;在线&lt;/option&gt;
							&lt;option value=&quot;0&quot;&gt;离线&lt;/option&gt;
						&lt;/select&gt;
						&lt;select class=&quot;input-small&quot; id=&quot;role-search&quot;&gt;
							&lt;option value=&quot;&quot;&gt;全部&lt;/option&gt;
							&lt;option value=&quot;1&quot;&gt;管理员&lt;/option&gt;
							&lt;option value=&quot;0&quot;&gt;操作员&lt;/option&gt;
						&lt;/select&gt;
						&lt;button type=&quot;button&quot; class=&quot;btn&quot; id=&quot;btn-advanced-search&quot;&gt;&lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt; 查询&lt;/button&gt;
					&lt;/form&gt;
				&lt;/div&gt;
				&lt;div class=&quot;block info-block&quot; id=&quot;user-view&quot;&gt;
					&lt;div class=&quot;navbar navbar-inner block-header&quot;&gt;
						&lt;div class=&quot;block-title&quot;&gt;用户详情&lt;/div&gt;
						&lt;div class=&quot;header-buttons&quot;&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;btn-view-edit&quot;&gt;修改&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;block-content info-content clearfix&quot;&gt;
						&lt;div class=&quot;row-fluid&quot;&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;编号:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;extn-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;姓名:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;name-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;角色:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;role-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
						&lt;div class=&quot;row-fluid&quot;&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;职位:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;position-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;薪水:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;salary-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;状态:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;status-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
						&lt;div class=&quot;row-fluid&quot;&gt;
							&lt;div class=&quot;span4&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;入职时间:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;start-date-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;span8&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;办公地点:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot; id=&quot;office-view&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
						&lt;div class=&quot;row-fluid&quot;&gt;
							&lt;div class=&quot;span12&quot;&gt;
								&lt;label class=&quot;prop-name&quot;&gt;备注:&lt;/label&gt;
								&lt;div class=&quot;prop-value&quot;&gt;&lt;/div&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class=&quot;block info-block&quot; id=&quot;user-add&quot; style=&quot;display:none;&quot;&gt;
					&lt;div class=&quot;navbar navbar-inner block-header&quot;&gt;
						&lt;div class=&quot;block-title&quot;&gt;添加账户&lt;/div&gt;
						&lt;div class=&quot;header-buttons&quot;&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;btn-save-add&quot;&gt;确定添加&lt;/button&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-cancel&quot;&gt;取消&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;block-content info-content clearfix&quot;&gt;
						&lt;form id=&quot;form-add&quot;&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;extn-add&quot;&gt;&lt;span
									class=&quot;red-asterisk&quot;&gt;*&lt;/span&gt;编号:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;extn-add&quot; name=&quot;extn-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;name-add&quot;&gt;&lt;span
									class=&quot;red-asterisk&quot;&gt;*&lt;/span&gt;姓名:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;name-add&quot; name=&quot;name-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;role-add&quot;&gt;角色:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;select id=&quot;role-add&quot; name=&quot;role-add&quot;&gt;
										&lt;option value=&quot;1&quot; selected&gt;管理员&lt;/option&gt;
										&lt;option value=&quot;0&quot;&gt;操作员&lt;/option&gt;
									&lt;/select&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;position-add&quot;&gt;职位:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;position-add&quot; name=&quot;position-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;salary-add&quot;&gt;薪水:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;salary-add&quot; name=&quot;salary-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;start-date-add&quot;&gt;入职时间:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;start-date-add&quot; name=&quot;start-date-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;office-add&quot;&gt;办公地点:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; class=&quot;xlarge&quot; id=&quot;office-add&quot; name=&quot;office-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;remark-add&quot;&gt;备注:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; class=&quot;xxxlarge&quot; id=&quot;remark-add&quot; name=&quot;remark-add&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/form&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class=&quot;block info-block&quot; id=&quot;user-edit&quot; style=&quot;display:none;&quot;&gt;
					&lt;div class=&quot;navbar navbar-inner block-header&quot;&gt;
						&lt;div class=&quot;block-title&quot;&gt;修改账户:&lt;span id=&quot;title-edit&quot;&gt;&lt;/span&gt;&lt;/div&gt;
						&lt;div class=&quot;header-buttons&quot;&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;btn-save-edit&quot;&gt;保存更改&lt;/button&gt;
							&lt;button type=&quot;button&quot; class=&quot;btn btn-cancel&quot;&gt;取消&lt;/button&gt;
						&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class=&quot;block-content info-content clearfix&quot;&gt;
						&lt;form id=&quot;form-edit&quot;&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;extn-edit&quot;&gt;&lt;span
									class=&quot;red-asterisk&quot;&gt;*&lt;/span&gt;编号:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;extn-edit&quot; name=&quot;extn-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;name-edit&quot;&gt;&lt;span
									class=&quot;red-asterisk&quot;&gt;*&lt;/span&gt;姓名:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;name-edit&quot; name=&quot;name-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;role-edit&quot;&gt;角色:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;select id=&quot;role-edit&quot; name=&quot;role-edit&quot;&gt;
										&lt;option value=&quot;1&quot; selected&gt;管理员&lt;/option&gt;
										&lt;option value=&quot;0&quot;&gt;操作员&lt;/option&gt;
									&lt;/select&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;position-edit&quot;&gt;职位:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;position-edit&quot; name=&quot;position-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;salary-edit&quot;&gt;薪水:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;salary-edit&quot; name=&quot;salary-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;start-date-edit&quot;&gt;入职时间:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; id=&quot;start-date-edit&quot; name=&quot;start-date-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;office-edit&quot;&gt;办公地点:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; class=&quot;xlarge&quot; id=&quot;office-edit&quot; name=&quot;office-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
							&lt;div class=&quot;control-group&quot;&gt;
								&lt;label class=&quot;control-label&quot; for=&quot;remark-edit&quot;&gt;备注:&lt;/label&gt;
								&lt;div class=&quot;controls&quot;&gt;
									&lt;input type=&quot;text&quot; class=&quot;xxxlarge&quot; id=&quot;remark-edit&quot; name=&quot;remark-edit&quot;&gt;
								&lt;/div&gt;
							&lt;/div&gt;
						&lt;/form&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class=&quot;row-fluid&quot;&gt;
					&lt;div class=&quot;span12&quot; id=&quot;div-table-container&quot;&gt;
						&lt;table class=&quot;table table-striped table-bordered table-hover table-condensed&quot; id=&quot;table-user&quot; cellspacing=&quot;0&quot; width=&quot;100%&quot;&gt;
							&lt;thead&gt;
								&lt;tr&gt;
									&lt;th&gt;
										&lt;input type=&quot;checkbox&quot; name=&quot;cb-check-all&quot;&gt;
									&lt;/th&gt;
									&lt;th&gt;姓名&lt;/th&gt;
									&lt;th&gt;职位&lt;/th&gt;
									&lt;th&gt;状态&lt;/th&gt;
									&lt;th&gt;入职时间&lt;/th&gt;
									&lt;th&gt;操作&lt;/th&gt;
								&lt;/tr&gt;
							&lt;/thead&gt;
							&lt;tbody&gt;
							&lt;/tbody&gt;
							&lt;tfoot&gt;
								&lt;tr&gt;
									&lt;th&gt;
										&lt;input type=&quot;checkbox&quot; name=&quot;cb-check-all&quot;&gt;
									&lt;/th&gt;
									&lt;th&gt;姓名&lt;/th&gt;
									&lt;th&gt;职位&lt;/th&gt;
									&lt;th&gt;状态&lt;/th&gt;
									&lt;th&gt;入职时间&lt;/th&gt;
									&lt;th&gt;操作&lt;/th&gt;
								&lt;/tr&gt;
							&lt;/tfoot&gt;
						&lt;/table&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;script src=&quot;asset/lib/json2.js&quot;&gt;&lt;/script&gt;
	&lt;!-- JQuery --&gt;
	&lt;script src=&quot;asset/lib/jquery-1.11.3.min.js&quot;&gt;&lt;/script&gt;
	&lt;!-- Bootstrap --&gt;
	&lt;script src=&quot;asset/lib/bootstrap-2.3.2/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;
	&lt;!-- SpinJS--&gt;
	&lt;script src=&quot;asset/lib/spin-2.1.0/jquery.spin.merge.js&quot;&gt;&lt;/script&gt;
	&lt;!-- lhgdialog --&gt;
	&lt;script src=&quot;asset/lib/lhgdialog-4.2.0/lhgdialog.js?skin=bootstrap2&quot;&gt;&lt;/script&gt;
	&lt;!-- DataTables JS--&gt;
	&lt;script src=&quot;asset/lib/dataTables-1.10.7/media/js/jquery.dataTables.js&quot;&gt;&lt;/script&gt;
	&lt;script src=&quot;asset/lib/dataTables-1.10.7/plugins/integration/bootstrap/2/dataTables.bootstrap.js&quot;&gt;&lt;/script&gt;
	&lt;!-- DataTables JS end--&gt;
	&lt;script src=&quot;asset/js/constant.js&quot;&gt;&lt;/script&gt;
	&lt;script src=&quot;asset/js/user-manage.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
              constant.js
              <pre class="brush:js;toolbar:false">/*常量*/
var CONSTANT = {
		DATA_TABLES : {
			DEFAULT_OPTION : { //DataTables初始化选项
				language: {
					&quot;sProcessing&quot;:   &quot;处理中...&quot;,
					&quot;sLengthMenu&quot;:   &quot;每页 _MENU_ 项&quot;,
					&quot;sZeroRecords&quot;:  &quot;没有匹配结果&quot;,
					&quot;sInfo&quot;:         &quot;当前显示第 _START_ 至 _END_ 项，共 _TOTAL_ 项。&quot;,
					&quot;sInfoEmpty&quot;:    &quot;当前显示第 0 至 0 项，共 0 项&quot;,
					&quot;sInfoFiltered&quot;: &quot;(由 _MAX_ 项结果过滤)&quot;,
					&quot;sInfoPostFix&quot;:  &quot;&quot;,
					&quot;sSearch&quot;:       &quot;搜索:&quot;,
					&quot;sUrl&quot;:          &quot;&quot;,
					&quot;sEmptyTable&quot;:     &quot;表中数据为空&quot;,
					&quot;sLoadingRecords&quot;: &quot;载入中...&quot;,
					&quot;sInfoThousands&quot;:  &quot;,&quot;,
					&quot;oPaginate&quot;: {
						&quot;sFirst&quot;:    &quot;首页&quot;,
						&quot;sPrevious&quot;: &quot;上页&quot;,
						&quot;sNext&quot;:     &quot;下页&quot;,
						&quot;sLast&quot;:     &quot;末页&quot;,
						&quot;sJump&quot;:     &quot;跳转&quot;
					},
					&quot;oAria&quot;: {
						&quot;sSortAscending&quot;:  &quot;: 以升序排列此列&quot;,
						&quot;sSortDescending&quot;: &quot;: 以降序排列此列&quot;
					}
				},
                autoWidth: false,	//禁用自动调整列宽
                stripeClasses: [&quot;odd&quot;, &quot;even&quot;],//为奇偶行加上样式，兼容不支持CSS伪类的场合
                order: [],			//取消默认排序查询,否则复选框一列会出现小箭头
                processing: false,	//隐藏加载提示,自行处理
                serverSide: true,	//启用服务器端分页
                searching: false	//禁用原生搜索
			},
			COLUMN: {
                CHECKBOX: {	//复选框单元格
                    className: &quot;td-checkbox&quot;,
                    orderable: false,
                    width: &quot;30px&quot;,
                    data: null,
                    render: function (data, type, row, meta) {
                        return &#39;&lt;input type=&quot;checkbox&quot; class=&quot;iCheck&quot;&gt;&#39;;
                    }
                }
            },
            RENDER: {	//常用render可以抽取出来，如日期时间、头像等
                ELLIPSIS: function (data, type, row, meta) {
                	data = data||&quot;&quot;;
                	return &#39;&lt;span title=&quot;&#39; + data + &#39;&quot;&gt;&#39; + data + &#39;&lt;/span&gt;&#39;;
                }
            }
		}
};</pre>
              user-manage.js
              <pre class="brush:js;toolbar:false">$(function (){
	var $wrapper = $(&#39;#div-table-container&#39;);
	var $table = $(&#39;#table-user&#39;);

	var _table = $table.dataTable($.extend(true,{},CONSTANT.DATA_TABLES.DEFAULT_OPTION, {
		ajax : function(data, callback, settings) {//ajax配置为function,手动调用异步查询
			//手动控制遮罩
			$wrapper.spinModal();
			//封装请求参数
			var param = userManage.getQueryCondition(data);
			$.ajax({
		            type: &quot;GET&quot;,
		            url: &quot;datasource.jsp&quot;,
		            cache : false,	//禁用缓存
		            data: param,	//传入已封装的参数
		            dataType: &quot;json&quot;,
		            success: function(result) {
		            	//setTimeout仅为测试延迟效果
		            	setTimeout(function(){
		            		//异常判断与处理
		            		if (result.errorCode) {
		            			$.dialog.alert(&quot;查询失败。错误码：&quot;+result.errorCode);
		            			return;
							}

		            		//封装返回数据，这里仅演示了修改属性名
		            		var returnData = {};
			            	returnData.draw = data.draw;//这里直接自行返回了draw计数器,应该由后台返回
			            	returnData.recordsTotal = result.total;
			            	returnData.recordsFiltered = result.total;//后台不实现过滤功能，每次查询均视作全部结果
			            	returnData.data = result.pageData;
			            	//关闭遮罩
			            	$wrapper.spinModal(false);
			            	//调用DataTables提供的callback方法，代表数据已封装完成并传回DataTables进行渲染
			            	//此时的数据需确保正确无误，异常判断应在执行此回调前自行处理完毕
			            	callback(returnData);
		            	},200);
		            },
		            error: function(XMLHttpRequest, textStatus, errorThrown) {
		                $.dialog.alert(&quot;查询失败&quot;);
		                $wrapper.spinModal(false);
		            }
		        });
		},
        columns: [
            CONSTANT.DATA_TABLES.COLUMN.CHECKBOX,
            {
            	className : &quot;ellipsis&quot;,	//文字过长时用省略号显示，CSS实现
            	data: &quot;name&quot;,
            	render : CONSTANT.DATA_TABLES.RENDER.ELLIPSIS,//会显示省略号的列，需要用title属性实现划过时显示全部文本的效果
            },
            {
            	className : &quot;ellipsis&quot;,
            	data: &quot;position&quot;,
            	render : CONSTANT.DATA_TABLES.RENDER.ELLIPSIS,
            	//固定列宽，但至少留下一个活动列不要固定宽度，让表格自行调整。不要将所有列都指定列宽，否则页面伸缩时所有列都会随之按比例伸缩。
				//切记设置table样式为table-layout:fixed; 否则列宽不会强制为指定宽度，也不会出现省略号。
				width : &quot;80px&quot;
            },
			{
				data : &quot;status&quot;,
				width : &quot;80px&quot;,
				render : function(data,type, row, meta) {
					return &#39;&lt;i class=&quot;fa fa-male&quot;&gt;&lt;/i&gt; &#39;+(data?&quot;在线&quot;:&quot;离线&quot;);
				}
			},
			{
				data : &quot;start_date&quot;,
				width : &quot;80px&quot;
			},
			 {
				className : &quot;td-operation&quot;,
				data: null,
				defaultContent:&quot;&quot;,
				orderable : false,
				width : &quot;120px&quot;
			}
        ],
        &quot;createdRow&quot;: function ( row, data, index ) {
        	//行渲染回调,在这里可以对该行dom元素进行任何操作
        	//给当前行加样式
        	if (data.role) {
        		$(row).addClass(&quot;info&quot;);
			}
        	//给当前行某列加样式
        	$(&#39;td&#39;, row).eq(3).addClass(data.status?&quot;text-success&quot;:&quot;text-error&quot;);
        	//不使用render，改用jquery文档操作呈现单元格
            var $btnEdit = $(&#39;&lt;button type=&quot;button&quot; class=&quot;btn btn-small btn-primary btn-edit&quot;&gt;修改&lt;/button&gt;&#39;);
            var $btnDel = $(&#39;&lt;button type=&quot;button&quot; class=&quot;btn btn-small btn-danger btn-del&quot;&gt;删除&lt;/button&gt;&#39;);
            $(&#39;td&#39;, row).eq(5).append($btnEdit).append($btnDel);

        },
        &quot;drawCallback&quot;: function( settings ) {
        	//渲染完毕后的回调
        	//清空全选状态
			$(&quot;:checkbox[name=&#39;cb-check-all&#39;]&quot;,$wrapper).prop(&#39;checked&#39;, false);
        	//默认选中第一行
        	$(&quot;tbody tr&quot;,$table).eq(0).click();
        }
	})).api();//此处需调用api()方法,否则返回的是JQuery对象而不是DataTables的API对象

	$(&quot;#btn-add&quot;).click(function(){
		userManage.addItemInit();
	});

	$(&quot;#btn-del&quot;).click(function(){
		var arrItemId = [];
        $(&quot;tbody :checkbox:checked&quot;,$table).each(function(i) {
        	var item = _table.row($(this).closest(&#39;tr&#39;)).data();
        	arrItemId.push(item);
        });
		userManage.deleteItem(arrItemId);
	});

	$(&quot;#btn-simple-search&quot;).click(function(){
		userManage.fuzzySearch = true;

		//reload效果与draw(true)或者draw()类似,draw(false)则可在获取新数据的同时停留在当前页码,可自行试验
//		_table.ajax.reload();
//		_table.draw(false);
		_table.draw();
	});

	$(&quot;#btn-advanced-search&quot;).click(function(){
		userManage.fuzzySearch = false;
		_table.draw();
	});

	$(&quot;#btn-save-add&quot;).click(function(){
		userManage.addItemSubmit();
	});

	$(&quot;#btn-save-edit&quot;).click(function(){
		userManage.editItemSubmit();
	});

	//行点击事件
	$(&quot;tbody&quot;,$table).on(&quot;click&quot;,&quot;tr&quot;,function(event) {
		$(this).addClass(&quot;active&quot;).siblings().removeClass(&quot;active&quot;);
		//获取该行对应的数据
		var item = _table.row($(this).closest(&#39;tr&#39;)).data();
		userManage.currentItem = item;
		userManage.showItemDetail(item);
    });

	$table.on(&quot;change&quot;,&quot;:checkbox&quot;,function() {
		if ($(this).is(&quot;[name=&#39;cb-check-all&#39;]&quot;)) {
			//全选
			$(&quot;:checkbox&quot;,$table).prop(&quot;checked&quot;,$(this).prop(&quot;checked&quot;));
		}else{
			//一般复选
			var checkbox = $(&quot;tbody :checkbox&quot;,$table);
			$(&quot;:checkbox[name=&#39;cb-check-all&#39;]&quot;,$table).prop(&#39;checked&#39;, checkbox.length == checkbox.filter(&#39;:checked&#39;).length);
		}
    }).on(&quot;click&quot;,&quot;.td-checkbox&quot;,function(event) {
    	//点击单元格即点击复选框
    	!$(event.target).is(&quot;:checkbox&quot;) &amp;&amp; $(&quot;:checkbox&quot;,this).trigger(&quot;click&quot;);
    }).on(&quot;click&quot;,&quot;.btn-edit&quot;,function() {
    	//点击编辑按钮
        var item = _table.row($(this).closest(&#39;tr&#39;)).data();
		$(this).closest(&#39;tr&#39;).addClass(&quot;active&quot;).siblings().removeClass(&quot;active&quot;);
		userManage.currentItem = item;
		userManage.editItemInit(item);
	}).on(&quot;click&quot;,&quot;.btn-del&quot;,function() {
		//点击删除按钮
		var item = _table.row($(this).closest(&#39;tr&#39;)).data();
		$(this).closest(&#39;tr&#39;).addClass(&quot;active&quot;).siblings().removeClass(&quot;active&quot;);
		userManage.deleteItem([item]);
	});

	$(&quot;#toggle-advanced-search&quot;).click(function(){
		$(&quot;i&quot;,this).toggleClass(&quot;fa-angle-double-down fa-angle-double-up&quot;);
		$(&quot;#div-advanced-search&quot;).slideToggle(&quot;fast&quot;);
	});

	$(&quot;#btn-info-content-collapse&quot;).click(function(){
		$(&quot;i&quot;,this).toggleClass(&quot;fa-minus fa-plus&quot;);
		$(&quot;span&quot;,this).toggle();
		$(&quot;#user-view .info-content&quot;).slideToggle(&quot;fast&quot;);
	});

	$(&quot;#btn-view-edit&quot;).click(function(){
		userManage.editItemInit(userManage.currentItem);
	});

	$(&quot;.btn-cancel&quot;).click(function(){
		userManage.showItemDetail(userManage.currentItem);
	});
});

var userManage = {
	currentItem : null,
	fuzzySearch : true,
	getQueryCondition : function(data) {
		var param = {};
		//组装排序参数
		if (data.order&amp;&amp;data.order.length&amp;&amp;data.order[0]) {
			switch (data.order[0].column) {
			case 1:
				param.orderColumn = &quot;name&quot;;
				break;
			case 2:
				param.orderColumn = &quot;position&quot;;
				break;
			case 3:
				param.orderColumn = &quot;status&quot;;
				break;
			case 4:
				param.orderColumn = &quot;start_date&quot;;
				break;
			default:
				param.orderColumn = &quot;name&quot;;
				break;
			}
			param.orderDir = data.order[0].dir;
		}
		//组装查询参数
		param.fuzzySearch = userManage.fuzzySearch;
		if (userManage.fuzzySearch) {
			param.fuzzy = $(&quot;#fuzzy-search&quot;).val();
		}else{
			param.name = $(&quot;#name-search&quot;).val();
			param.position = $(&quot;#position-search&quot;).val();
			param.office = $(&quot;#office-search&quot;).val();
			param.extn = $(&quot;#extn-search&quot;).val();
			param.status = $(&quot;#status-search&quot;).val();
			param.role = $(&quot;#role-search&quot;).val();
		}
		//组装分页参数
		param.startIndex = data.start;
		param.pageSize = data.length;

		return param;
	},
	showItemDetail : function(item) {
		$(&quot;#user-view&quot;).show().siblings(&quot;.info-block&quot;).hide();
		if (!item) {
			$(&quot;#user-view .prop-value&quot;).text(&quot;&quot;);
			return;
		}
		$(&quot;#name-view&quot;).text(item.name);
		$(&quot;#position-view&quot;).text(item.position);
		$(&quot;#salary-view&quot;).text(item.salary);
		$(&quot;#start-date-view&quot;).text(item.start_date);
		$(&quot;#office-view&quot;).text(item.office);
		$(&quot;#extn-view&quot;).text(item.extn);
		$(&quot;#role-view&quot;).text(item.role?&quot;管理员&quot;:&quot;操作员&quot;);
		$(&quot;#status-view&quot;).text(item.status?&quot;在线&quot;:&quot;离线&quot;);
	},
	addItemInit : function() {
		$(&quot;#form-add&quot;)[0].reset();

		$(&quot;#user-add&quot;).show().siblings(&quot;.info-block&quot;).hide();
	},
	editItemInit : function(item) {
		if (!item) {
			return;
		}
		$(&quot;#form-edit&quot;)[0].reset();
		$(&quot;#title-edit&quot;).text(item.name);
		$(&quot;#name-edit&quot;).val(item.name);
		$(&quot;#position-edit&quot;).val(item.position);
		$(&quot;#salary-edit&quot;).val(item.salary);
		$(&quot;#start-date-edit&quot;).val(item.start_date);
		$(&quot;#office-edit&quot;).val(item.office);
		$(&quot;#extn-edit&quot;).val(item.extn);
		$(&quot;#role-edit&quot;).val(item.role);
		$(&quot;#user-edit&quot;).show().siblings(&quot;.info-block&quot;).hide();
	},
	addItemSubmit : function() {
		$.dialog.tips(&#39;保存当前添加用户&#39;);
	},
	editItemSubmit : function() {
		$.dialog.tips(&#39;保存当前编辑用户&#39;);
	},
	deleteItem : function(selectedItems) {
		var message;
		if (selectedItems&amp;&amp;selectedItems.length) {
			if (selectedItems.length == 1) {
				message = &quot;确定要删除 &#39;&quot;+selectedItems[0].name+&quot;&#39; 吗?&quot;;

			}else{
				message = &quot;确定要删除选中的&quot;+selectedItems.length+&quot;项记录吗?&quot;;
			}
			$.dialog.confirmDanger(message, function(){
				$.dialog.tips(&#39;执行删除操作&#39;);
			});
		}else{
			$.dialog.tips(&#39;请先选中要操作的行&#39;);
		}
	}
};</pre>
       </section>

</div>





<!--/row-->

<style>
.right-ad{
	box-sizing: content-box;
	width: 150px;
	height: 600px;
	overflow: hidden;
	z-index: 2147483647;
	position: fixed;
	top: 35%;
	right: 20px;
	display:block;
}

.right-ad div{
	box-sizing: content-box;
	width:150px;
	height:600px;
	padding:4px;
	<!-- border:#acacac 1px solid; -->
	overflow:hidden;
	position:absolute;
	left:0;
	top:25px;
}

.left-ad{
	box-sizing: content-box;
	width: 150px;
	height: 600px;
	overflow: hidden;
	z-index: 2147483647;
	position: fixed;
	top: 35%;
	left: 20px;
	display:block;
}
.left-ad div{
	box-sizing: content-box;
	width:150px;
	height:600px;
	padding:4px;
	<!--border:#acacac 1px solid; -->
	overflow:hidden;
	position:absolute;
	left:0;
	top:25px;
}
</style>
<div class="left-ad"  id="adLeft">
  <div>
   <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
   <!-- yad-left -->
   <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-2101546703939638"
        data-ad-slot="1953170309"
        data-ad-format="auto"></ins>
   <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
 </div>
</div>

<div class="right-ad" id="adRight">
  <div>
   <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
   <!-- yad-right -->
   <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-2101546703939638"
        data-ad-slot="7999703903"
        data-ad-format="auto"></ins>
   <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
 </div>
</div>

<script>
          // 屏幕分辨率的高：
        var h = window.screen.height;
         // 屏幕分辨率的宽：
         var w = window.screen.width;
         if(w<1500){
            var adLeft = document.getElementById("adLeft").style.display = "none";
            var adRight = document.getElementById("adRight").style.display = "none";
         }else{
            console.log("多些大家对中文网的支持，有任何建议都可以发送邮箱：thxopen@datatables.club");
            console.log("非常期待您的反馈，这样中文网才能越做越好");
            console.log("Thank you for your support! If you have any suggestions, please contact thxopen@datatables.club");
            console.log("I'm looking forward your feedback. Make the website better and better.");
            console.log(":)");
            if(document.getElementById("noad")){
                var adLeft = document.getElementById("adLeft").style.display = "none";
                var adRight = document.getElementById("adRight").style.display = "none";
                console.log("index no ad of side");
            }
         }
</script>
<script>
(function(){
    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<!--footer-->
<footer class="footer">
    <div class="container">
        <div class="span3">
            <img src="/assets/logo-fade.png" alt=""/>
        </div>
        <div class="span6" style="margin: 0">
            <ul class="footer-links">
                <li>
                    <iframe style="border: 0;overflow: hidden"
                            src="http://ghbtns.com/github-btn.html?user=ssy341&repo=datatables-cn&type=watch&count=true"
                            width="100" height="20" title="Star on GitHub"></iframe>
                </li>
                <li>
                    <iframe src="https://ghbtns.com/github-btn.html?user=ssy341&repo=datatables-cn&type=watch&count=true&v=2"
                            frameborder="0" scrolling="0" width="100px" height="20px" title="Watch on GitHub"></iframe>
                </li>
                <li>
                    <iframe style="border: 0;overflow: hidden"
                            src="http://ghbtns.com/github-btn.html?user=ssy341&amp;repo=datatables-cn&amp;type=fork&amp;count=true"
                            width="100" height="20" title="Fork on GitHub"></iframe>
                </li>
                <li>
                    <a href="http://weibo.com/datatables" target="_blank"><img
                            src="http://img.t.sinajs.cn/t6/style/images/global_nav/WB_logo.png" alt="微博"/></a>
                </li>
            </ul>
            <p>Translation from <a href="http://datatables.net">DataTables.net</a>, with permission</p>

            <p>With help <a href="http://getbootstrap.com" target="_blank" title="bootstrap前端框架">Bootstrap</a>
                &
                <a href="http://jekyllrb.com/" target="_blank"
                   title="Transform your plain text into static websites and blogs.">Jekyll</a></p>

            <p>
                <a href="https://github.com/ssy341/datatables-cn/blob/gh-pages/example/user_share/mir/index.html" title="Edit this page on GitHub">
                    <img src="https://az835927.vo.msecnd.net/sites/iot/Resources/images/Octocat.png" class="nr">在GitHub上编辑此页面
                </a>
            </p>
            <!--<ul class="footer-links" id="qqgroup">-->
                <!--<li>QQ群：</li>-->
                <!--<li>-->
                    <!--<a class="bs3-link" onclick="noteTitle(this)"-->
                       <!--href="http://shang.qq.com/wpa/qunwpa?idkey=ee2ceba90019346a255da2dc0875469616f2cf27aa0e81436542525e8d18021c" target="_blank"-->
                       <!--title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告">238625393（1群）</a>-->
                <!--</li>-->
                <!--<li>-->
                    <!--<a class="bs3-link" onclick="noteTitle(this)"-->
                       <!--href="http://shang.qq.com/wpa/qunwpa?idkey=b9e5ddc360190f5cc28d62fb6131afa98790503d7612d5302d0ad6038bedb4d6" target="_blank"-->
                       <!--title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告">20779435（3群）</a>-->
                <!--</li>-->
            <!--</ul>-->
            <ul  class="footer-links" id="qqgroup">
                <li>
                    <a class="bs3-link" onclick="noteTitle(this)"
                       href="http://shang.qq.com/wpa/qunwpa?idkey=b1e693c4133e1655580af5b27013b8b0d23bfced561cf027c8d89fb8bc4459c9" target="_blank"
                       title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告">547691991（2000人中文网交流群1）满</a>
                </li>
                <li>
                    <a class="bs3-link" onclick="noteTitle(this)"
                       href="http://shang.qq.com/wpa/qunwpa?idkey=e21eada25d8342caa6b81aac4393b35b84d350d7c5b2aa9e36ec2055498b6242" target="_blank"
                       title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告">20779435（2000人中文网交流群3）</a>
                </li>
                <li>
                    <a class="bs3-link" onclick="noteTitle(this)"
                       href="http://shang.qq.com/wpa/qunwpa?idkey=5796bab31300e68fa5adfd94d0083a65af2553435d64346364732e668290f226" target="_blank"
                       title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告">490289088（Editor 讨论群）</a>
                </li>
                <!--<li>-->
                    <!--<a class="bs3-link" onclick="noteTitle(this)"-->
                       <!--href="http://shang.qq.com/wpa/qunwpa?idkey=35add13134a17cb0c6297bebc25fb4e359104a86e0d47c948aa2d711b319ca31" target="_blank"-->
                       <!--title="提示：禁止同时加入多个群！进群后请仔细参考置顶群公告。注：本群为进阶群，新手勿加">180188326（进阶群，注：本群为进阶群，新手勿加）</a>-->
                <!--</li>-->
            </ul>
            <ul class="footer-links">
                <li>相关插件：</li>
                <li><a href="http://www.treejs.cn/" target="_blank" title="zTree 是一个依靠 jQuery 实现的多功能 “树插件”">zTree</a></li>
            </ul>
            <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?1c2bd29cae4808be68e4f91e174e69a8";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
        </div>
       <div class="span3">
           <p style="font-size:15px;text-indent: 2em;">
               Datatables中文网是结合官网给大家一个完整的、易懂的手册。
               本站内容均为原创翻译制作，并获得作者的同意，本站将会持续更新，
               让我们更好的使用Datatables。在本站中对一些重要的方法、属性等都做了详细的批注以及示例展示。
           </p>
           <p style="font-size:15px;text-indent: 2em;">
             <b> 申明：</b>未经本站许可请勿对本站文档进行复制或再发行，谢谢合作！最后还要感谢Datatables的作者的支持
               <ul class="footer-links">
                   <li><a href="http://www.thxopen.com" target="_blank">Thxopen</a></li>
                   <li><a href="http://clboxing.com" target="_blank">成龙拳馆</a></li>
                   <li><a href="http://app.qisedie.com" target="_blank">七色蝶手机网</a></li>
               </ul>
           </p>
       </div>
    </div>
</footer>
<script type="text/javascript">
    function noteTitle(obj){
        var note = $(obj).attr("title");
        alert(note);
    }
</script>
</body>
</html>
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->

<script src="/assets/jquery/1.8.2/jquery.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->

<script src="/assets/bootstrap/3.0.3/js/bootstrap.min.js"></script>


<!--代码高亮-->
<script id="shCore" src="/assets/syntaxhighlighter/3.0.83/scripts/shCore.js"></script>
<script id="shBrushJScript" src="/assets/syntaxhighlighter/3.0.83/scripts/shBrushJScript.js"></script>
<script id="shBrushXml" src="/assets/syntaxhighlighter/3.0.83/scripts/shBrushXml.js"></script>
<script id="shBrushPhp" src="/assets/syntaxhighlighter/3.0.83/scripts/shBrushPhp.js"></script>
<script id="shBrushJava" src="/assets/syntaxhighlighter/3.0.83/scripts/shBrushJava.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<script type="text/javascript">
//判断是否显示更新提示
$.get("http://datatables.club/assets/updatelog.txt", function (data) {
    var json = JSON.parse(data);
    if (json.isNote) {
    var cache = localStorage['dt.thxopen.com.note'];
    if (typeof cache == 'undefined') {
    $("#updateFlag").addClass("hot");
    } else {
    var current = new Date().getTime();
    var bl = current - cache;
    var s = 24 * 60 * 60 * 1000;
    if (bl > s) {
    $("#updateFlag").addClass("hot");
    }
    }
    }
    });
</script>
<!--复制本页url到剪贴板-->
<script src="/js/ZeroClipboard.min.js"></script>
<script>
$('[data-toggle="tooltip"]').tooltip();
$('#copyurltoclip').on('show.bs.tooltip', function () {

    var url = window.location.href;
    var title = $("title").html();
    var text = title + ":"+url;
    $(this).attr("data-clipboard-text",text);

});

var client = new ZeroClipboard($('#copyurltoclip')); //  可以用jquery对象

client.on( "aftercopy", function( event ) {
    console.log("成功复制url：" + event.data["text/plain"]+"到剪贴板" );
} );

client.on( 'error', function() {
    ZeroClipboard.destroy();
} );
</script>
